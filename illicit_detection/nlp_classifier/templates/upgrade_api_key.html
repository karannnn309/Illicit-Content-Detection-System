{% extends 'base.html' %}

{% block title %}Upgrade API Key - ZiNUS{% endblock %}

{% block content %}
<div class="container" style="padding: 40px 0;">
    <div style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 2px 20px rgba(0,0,0,0.1);">
        <h1 style="color: var(--primary); margin-bottom: 10px;">Upgrade API Key</h1>
        <p style="color: #6c757d; margin-bottom: 30px;">Choose a plan for: <strong>{{ api_key.name }}</strong></p>

        <!-- Current Tier -->
        <div style="background: #e7f3ff; border-left: 4px solid var(--primary); padding: 15px; margin-bottom: 30px; border-radius: 5px;">
            <strong>Current Tier:</strong> {{ api_key.get_tier_display }}
        </div>

        <!-- Pricing Plans -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
            <!-- Free Tier -->
            <div style="border: 2px solid #6c757d; border-radius: 12px; padding: 30px; text-align: center; {% if api_key.tier == 'free' %}opacity: 0.6;{% endif %}">
                <h2 style="color: #6c757d; margin-bottom: 10px;">Free</h2>
                <div style="font-size: 3rem; font-weight: 700; color: #6c757d; margin: 20px 0;">$0</div>
                <p style="color: #6c757d; margin-bottom: 20px;">per month</p>
                <ul style="list-style: none; padding: 0; margin: 0 0 30px 0; text-align: left;">
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        50 requests per day
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Basic support
                    </li>
                    <li style="padding: 10px 0;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        API documentation
                    </li>
                </ul>
                {% if api_key.tier == 'free' %}
                    <button disabled style="background: #6c757d; color: white; padding: 12px 30px; border-radius: 50px; border: none; width: 100%; cursor: not-allowed;">
                        Current Plan
                    </button>
                {% endif %}
            </div>

            <!-- Basic Tier -->
            <div style="border: 3px solid #007bff; border-radius: 12px; padding: 30px; text-align: center; position: relative; {% if api_key.tier == 'basic' %}opacity: 0.6;{% endif %}">
                <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #007bff; color: white; padding: 5px 20px; border-radius: 20px; font-size: 0.85rem;">
                    POPULAR
                </div>
                <h2 style="color: #007bff; margin-bottom: 10px;">Basic</h2>
                <div style="font-size: 3rem; font-weight: 700; color: #007bff; margin: 20px 0;">$9.99</div>
                <p style="color: #6c757d; margin-bottom: 20px;">per month</p>
                <ul style="list-style: none; padding: 0; margin: 0 0 30px 0; text-align: left;">
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        <strong>1,000 requests per day</strong>
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Priority support
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Advanced analytics
                    </li>
                    <li style="padding: 10px 0;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Webhook notifications
                    </li>
                </ul>
                {% if api_key.tier == 'basic' %}
                    <button disabled style="background: #6c757d; color: white; padding: 12px 30px; border-radius: 50px; border: none; width: 100%; cursor: not-allowed;">
                        Current Plan
                    </button>
                {% elif api_key.tier == 'free' %}
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="tier" value="basic">
                        <button type="submit" style="background: #007bff; color: white; padding: 12px 30px; border-radius: 50px; border: none; width: 100%; cursor: pointer; font-weight: 600;">
                            Upgrade to Basic
                        </button>
                    </form>
                {% endif %}
            </div>

            <!-- Premium Tier -->
            <div style="border: 3px solid #ffc107; border-radius: 12px; padding: 30px; text-align: center; {% if api_key.tier == 'premium' %}opacity: 0.6;{% endif %}">
                <h2 style="color: #ffc107; margin-bottom: 10px;">Premium</h2>
                <div style="font-size: 3rem; font-weight: 700; color: #ffc107; margin: 20px 0;">$49.99</div>
                <p style="color: #6c757d; margin-bottom: 20px;">per month</p>
                <ul style="list-style: none; padding: 0; margin: 0 0 30px 0; text-align: left;">
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        <strong>10,000 requests per day</strong>
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        24/7 Premium support
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Custom integrations
                    </li>
                    <li style="padding: 10px 0; border-bottom: 1px solid #eee;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Priority processing
                    </li>
                    <li style="padding: 10px 0;">
                        <i class="fas fa-check" style="color: #28a745; margin-right: 10px;"></i>
                        Dedicated account manager
                    </li>
                </ul>
                {% if api_key.tier == 'premium' %}
                    <button disabled style="background: #6c757d; color: white; padding: 12px 30px; border-radius: 50px; border: none; width: 100%; cursor: not-allowed;">
                        Current Plan
                    </button>
                {% else %}
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="tier" value="premium">
                        <button type="submit" style="background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%); color: white; padding: 12px 30px; border-radius: 50px; border: none; width: 100%; cursor: pointer; font-weight: 600;">
                            Upgrade to Premium
                        </button>
                    </form>
                {% endif %}
            </div>
        </div>

        <!-- Back Button -->
        <div style="text-align: center;">
            <a href="{% url 'my_api_keys' %}" style="color: var(--primary); text-decoration: none; font-weight: 500;">
                <i class="fas fa-arrow-left"></i> Back to API Keys
            </a>
        </div>
    </div>
</div>
{% endblock %}
